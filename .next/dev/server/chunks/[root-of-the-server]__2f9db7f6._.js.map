{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///home/pvsameerpvs/Projects/JustSearch/just-search-lead-automation/just-search-platform-2-complete/lib/googleSheets.ts"],"sourcesContent":["import { google } from \"googleapis\";\nimport path from \"path\";\nimport fs from \"fs\";\n\nfunction getAuth() {\n  const raw = process.env.GOOGLE_SERVICE_ACCOUNT_JSON;\n  if (!raw) throw new Error(\"Missing GOOGLE_SERVICE_ACCOUNT_JSON\");\n  let credentials: any;\n  try { credentials = JSON.parse(raw); } \n  catch { throw new Error(\"GOOGLE_SERVICE_ACCOUNT_JSON must be valid JSON string\"); }\n\n  return new google.auth.GoogleAuth({\n    credentials,\n    scopes: [\"https://www.googleapis.com/auth/spreadsheets\"],\n  });\n}\n\nexport function sheetsClient() {\n  const auth = getAuth();\n  return google.sheets({ version: \"v4\", auth });\n}\n\nexport const SHEET_ID = () => {\n  const id = process.env.GOOGLE_SHEET_ID;\n  if (!id) throw new Error(\"Missing GOOGLE_SHEET_ID\");\n  return id;\n};\n\nexport async function readRange(range: string) {\n  const sheets = sheetsClient();\n   console.info(\"attempt to read range\", range);\n  const res = await sheets.spreadsheets.values.get({ spreadsheetId: SHEET_ID(), range });\n console.info(\"read range\", range);\n  return res.data.values ?? [];\n}\n\nexport async function appendRow(range: string, values: any[]) {\n  const sheets = sheetsClient();\n  await sheets.spreadsheets.values.append({\n    spreadsheetId: SHEET_ID(),\n    range,\n    valueInputOption: \"RAW\",\n    requestBody: { values: [values] },\n  });\n}\n\nexport async function updateRow(range: string, values: any[]) {\n  const sheets = sheetsClient();\n  await sheets.spreadsheets.values.update({\n    spreadsheetId: SHEET_ID(),\n    range,\n    valueInputOption: \"RAW\",\n    requestBody: { values: [values] },\n  });\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAIA,SAAS;IACP,MAAM,MAAM,QAAQ,GAAG,CAAC,2BAA2B;IACnD,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,IAAI;IACJ,IAAI;QAAE,cAAc,KAAK,KAAK,CAAC;IAAM,EACrC,OAAM;QAAE,MAAM,IAAI,MAAM;IAA0D;IAElF,OAAO,IAAI,gRAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QAChC;QACA,QAAQ;YAAC;SAA+C;IAC1D;AACF;AAEO,SAAS;IACd,MAAM,OAAO;IACb,OAAO,gRAAM,CAAC,MAAM,CAAC;QAAE,SAAS;QAAM;IAAK;AAC7C;AAEO,MAAM,WAAW;IACtB,MAAM,KAAK,QAAQ,GAAG,CAAC,eAAe;IACtC,IAAI,CAAC,IAAI,MAAM,IAAI,MAAM;IACzB,OAAO;AACT;AAEO,eAAe,UAAU,KAAa;IAC3C,MAAM,SAAS;IACd,QAAQ,IAAI,CAAC,yBAAyB;IACvC,MAAM,MAAM,MAAM,OAAO,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC;QAAE,eAAe;QAAY;IAAM;IACrF,QAAQ,IAAI,CAAC,cAAc;IAC1B,OAAO,IAAI,IAAI,CAAC,MAAM,IAAI,EAAE;AAC9B;AAEO,eAAe,UAAU,KAAa,EAAE,MAAa;IAC1D,MAAM,SAAS;IACf,MAAM,OAAO,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC;QACtC,eAAe;QACf;QACA,kBAAkB;QAClB,aAAa;YAAE,QAAQ;gBAAC;aAAO;QAAC;IAClC;AACF;AAEO,eAAe,UAAU,KAAa,EAAE,MAAa;IAC1D,MAAM,SAAS;IACf,MAAM,OAAO,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC;QACtC,eAAe;QACf;QACA,kBAAkB;QAClB,aAAa;YAAE,QAAQ;gBAAC;aAAO;QAAC;IAClC;AACF"}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["file:///home/pvsameerpvs/Projects/JustSearch/just-search-lead-automation/just-search-platform-2-complete/app/api/leads/filters/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { readRange } from \"@/lib/googleSheets\";\n\nexport async function GET() {\n  const leads = await readRange(\"Leads!A2:F\").catch(() => [] as any[]);\n  const industriesSet = new Set<string>();\n  const areasSet = new Set<string>();\n  for (const r of leads) {\n    const industry = (r?.[2] ?? \"\").toString();\n    const area = (r?.[3] ?? \"\").toString();\n    if (industry) industriesSet.add(industry);\n    if (area) areasSet.add(area);\n  }\n  const industries = Array.from(industriesSet).sort().map((name) => ({ name }));\n  const areas = Array.from(areasSet).sort().map((name) => ({ name }));\n  return NextResponse.json({ industries, areas });\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,QAAQ,MAAM,IAAA,mPAAS,EAAC,cAAc,KAAK,CAAC,IAAM,EAAE;IAC1D,MAAM,gBAAgB,IAAI;IAC1B,MAAM,WAAW,IAAI;IACrB,KAAK,MAAM,KAAK,MAAO;QACrB,MAAM,WAAW,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,EAAE,QAAQ;QACxC,MAAM,OAAO,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,EAAE,QAAQ;QACpC,IAAI,UAAU,cAAc,GAAG,CAAC;QAChC,IAAI,MAAM,SAAS,GAAG,CAAC;IACzB;IACA,MAAM,aAAa,MAAM,IAAI,CAAC,eAAe,IAAI,GAAG,GAAG,CAAC,CAAC,OAAS,CAAC;YAAE;QAAK,CAAC;IAC3E,MAAM,QAAQ,MAAM,IAAI,CAAC,UAAU,IAAI,GAAG,GAAG,CAAC,CAAC,OAAS,CAAC;YAAE;QAAK,CAAC;IACjE,OAAO,iQAAY,CAAC,IAAI,CAAC;QAAE;QAAY;IAAM;AAC/C"}}]
}